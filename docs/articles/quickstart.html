<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Quick Start • corrselect</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Quick Start">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">corrselect</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/quickstart.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/quickstart.html">Quick Start</a></li>
    <li><a class="dropdown-item" href="../articles/workflows.html">Workflows</a></li>
    <li><a class="dropdown-item" href="../articles/comparison.html">Comparison</a></li>
    <li><a class="dropdown-item" href="../articles/advanced.html">Advanced</a></li>
    <li><a class="dropdown-item" href="../articles/theory.html">Theory</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gcol33/corrselect" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Quick Start</h1>
                        <h4 data-toc-skip class="author">Gilles
Colling</h4>
            
            <h4 data-toc-skip class="date">2025-11-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/gcol33/corrselect/blob/HEAD/vignettes/quickstart.Rmd" class="external-link"><code>vignettes/quickstart.Rmd</code></a></small>
      <div class="d-none name"><code>quickstart.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-corrselect-does">What corrselect Does<a class="anchor" aria-label="anchor" href="#what-corrselect-does"></a>
</h2>
<p>corrselect identifies and removes redundant variables based on
pairwise correlation or association. Given a threshold
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>,
it finds subsets where all pairwise associations satisfy
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">|</mo><msub><mi>a</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mo>&lt;</mo><mi>τ</mi></mrow><annotation encoding="application/x-tex">|a_{ij}| &lt; \tau</annotation></semantics></math>
(see <code><a href="../articles/theory.html">vignette("theory")</a></code> for mathematical formulation).</p>
</div>
<div class="section level2">
<h2 id="interface-hierarchy">Interface Hierarchy<a class="anchor" aria-label="anchor" href="#interface-hierarchy"></a>
</h2>
<p>corrselect provides three levels of interface:</p>
<div class="section level3">
<h3 id="level-1-simple-pruning">Level 1: Simple Pruning<a class="anchor" aria-label="anchor" href="#level-1-simple-pruning"></a>
</h3>
<p><strong>corrPrune()</strong> - Removes redundant predictors based on
pairwise correlation:</p>
<ul>
<li>Returns a single pruned dataset</li>
<li>No response variable required</li>
<li>Fast greedy or exact search</li>
</ul>
<p><strong>modelPrune()</strong> - Reduces VIF in regression models:</p>
<ul>
<li>Returns a single pruned dataset with response</li>
<li>Iteratively removes high-VIF predictors</li>
<li>Works with lm, glm, lme4, glmmTMB</li>
</ul>
</div>
<div class="section level3">
<h3 id="level-2-structured-subset-selection">Level 2: Structured Subset Selection<a class="anchor" aria-label="anchor" href="#level-2-structured-subset-selection"></a>
</h3>
<p><strong>corrSelect()</strong> - Returns all maximal subsets (numeric
data):</p>
<ul>
<li>Enumerates all maximal valid subsets satisfying threshold (see
<code><a href="../articles/theory.html">vignette("theory")</a></code>)</li>
<li>Provides full metadata (size, avg_corr, max_corr, min_corr)</li>
<li>Exact or greedy search</li>
</ul>
<p><strong>assocSelect()</strong> - Returns all maximal subsets
(mixed-type data):</p>
<ul>
<li>Handles numeric, factor, and ordered variables</li>
<li>Uses appropriate association measures per variable pair</li>
<li>Exact or greedy search</li>
</ul>
</div>
<div class="section level3">
<h3 id="level-3-low-level-matrix-interface">Level 3: Low-Level Matrix Interface<a class="anchor" aria-label="anchor" href="#level-3-low-level-matrix-interface"></a>
</h3>
<p><strong>MatSelect()</strong> - Direct matrix input:</p>
<ul>
<li>Accepts precomputed correlation/association matrices</li>
<li>No data preprocessing</li>
<li>Useful for repeated analyses</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="pruning-example-corrprune">Pruning Example: corrPrune()<a class="anchor" aria-label="anchor" href="#pruning-example-corrprune"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gillescolling.com/corrselect/" class="external-link">corrselect</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Remove correlated predictors (threshold = 0.7)</span></span>
<span><span class="va">pruned</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/corrPrune.html">corrPrune</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>,  <span class="co"># Exclude response</span></span>
<span>  threshold <span class="op">=</span> <span class="fl">0.7</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Variables retained</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">pruned</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pruned</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "BIO1"  "BIO3"  "BIO6"  "BIO9"  "BIO11" "BIO12"</span></span></code></pre></div>
<p>Variables removed:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">pruned</span>, <span class="st">"removed_vars"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "BIO2"  "BIO4"  "BIO5"  "BIO7"  "BIO8"  "BIO10" "BIO15"</span></span></code></pre></div>
<p><strong>How corrPrune() selects among multiple maximal
subsets</strong>:</p>
<p>When multiple maximal subsets exist (which is common),
<code><a href="../reference/corrPrune.html">corrPrune()</a></code> returns the subset with the <strong>lowest
average absolute correlation</strong>. This selection criterion balances
three goals:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Minimize redundancy</strong>: Lower average correlation
means more independent variables</li>
<li>
<strong>Maximize information</strong>: Prefers diverse variable
combinations over tightly clustered ones</li>
<li>
<strong>Deterministic behavior</strong>: Always returns the same
result for the same data</li>
</ol>
<p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If two maximal subsets exist:</span></span>
<span><span class="co"># Subset A: {bio1, bio4, bio12} with avg_corr = 0.35</span></span>
<span><span class="co"># Subset B: {bio2, bio5, bio15} with avg_corr = 0.42</span></span>
<span><span class="co"># corrPrune() returns Subset A (lower average correlation)</span></span></code></pre></div>
<p>To explore <strong>all</strong> maximal subsets instead of just the
optimal one, use <code><a href="../reference/corrSelect.html">corrSelect()</a></code> (see below).</p>
<p>Visualization:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cor_before</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">cor_after</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">pruned</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">cor_before</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/lower.tri.html" class="external-link">upper.tri</a></span><span class="op">(</span><span class="va">cor_before</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,</span>
<span>     breaks <span class="op">=</span> <span class="fl">30</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Distribution of Absolute Correlations"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Absolute Correlation"</span>,</span>
<span>     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>     ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">cor_before</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/lower.tri.html" class="external-link">upper.tri</a></span><span class="op">(</span><span class="va">cor_before</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1.2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">cor_after</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/lower.tri.html" class="external-link">upper.tri</a></span><span class="op">(</span><span class="va">cor_after</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,</span>
<span>     breaks <span class="op">=</span> <span class="fl">30</span>,</span>
<span>     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>     add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fl">0.7</span>, col <span class="op">=</span> <span class="st">"black"</span>, lwd <span class="op">=</span> <span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>,</span>
<span>       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Before"</span>, <span class="st">"After"</span>, <span class="st">"Threshold"</span><span class="op">)</span>,</span>
<span>       fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>       border <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>       lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>       lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>       bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></code></pre></div>
<p><img src="quickstart_files/figure-html/unnamed-chunk-3-1.png" class="r-plt" alt="Histogram showing distribution of absolute correlations before (red bars) and after (blue bars) pruning with corrPrune(). Black vertical dashed line marks the 0.7 threshold. Before pruning, many correlations exceed the threshold. After pruning, all pairwise correlations remain below 0.7, demonstrating successful redundancy reduction." width="672"></p>
<hr>
</div>
<div class="section level2">
<h2 id="model-based-pruning-modelprune">Model-Based Pruning: modelPrune()<a class="anchor" aria-label="anchor" href="#model-based-pruning-modelprune"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prune based on VIF (limit = 5)</span></span>
<span><span class="va">model_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modelPrune.html">modelPrune</a></span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="va">species_richness</span> <span class="op">~</span> <span class="va">.</span>,</span>
<span>  data <span class="op">=</span> <span class="va">bioclim_example</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Predictors retained</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">model_data</span>, <span class="st">"selected_vars"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 16</span></span></code></pre></div>
<p>Variables removed:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">model_data</span>, <span class="st">"removed_vars"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "BIO2" "BIO7" "BIO5"</span></span></code></pre></div>
<p>Final model:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">model_data</span>, <span class="st">"final_model"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">final_model</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>  <span class="co"># First 5 coefficients</span></span>
<span><span class="co">#&gt;                 Estimate Std. Error    t value     Pr(&gt;|t|)</span></span>
<span><span class="co">#&gt; (Intercept) -255.6180854 37.1881215 -6.8736488 1.075474e-09</span></span>
<span><span class="co">#&gt; BIO1           0.6123452  0.1356203  4.5151441 2.071774e-05</span></span>
<span><span class="co">#&gt; BIO3          -0.0912390  0.1823538 -0.5003405 6.181594e-01</span></span>
<span><span class="co">#&gt; BIO4          -0.1464343  0.1909057 -0.7670503 4.452280e-01</span></span>
<span><span class="co">#&gt; BIO6           0.1896414  0.1620747  1.1700869 2.453149e-01</span></span></code></pre></div>
<p>VIF comparison:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Increase bottom margin for rotated axis labels</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">full_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">species_richness</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">bioclim_example</span><span class="op">)</span></span>
<span></span>
<span><span class="va">X_full</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix</a></span><span class="op">(</span><span class="va">full_model</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">vif_before</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X_full</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">X_full</span><span class="op">[</span>, <span class="va">var</span><span class="op">]</span> <span class="op">~</span> <span class="va">X_full</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X_full</span><span class="op">)</span> <span class="op">==</span> <span class="va">var</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">r.squared</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">X_pruned</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix</a></span><span class="op">(</span><span class="va">final_model</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">vif_after</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X_pruned</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">X_pruned</span><span class="op">[</span>, <span class="va">var</span><span class="op">]</span> <span class="op">~</span> <span class="va">X_pruned</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">X_pruned</span><span class="op">)</span> <span class="op">==</span> <span class="va">var</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">r.squared</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">all_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">vif_before</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">vif_after</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">vif_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  before <span class="op">=</span> <span class="va">vif_before</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">all_vars</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">vif_before</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  after  <span class="op">=</span> <span class="va">vif_after</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">all_vars</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">vif_after</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span><span class="va">vif_combined</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">vif_combined</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">vif_combined</span> <span class="op">&lt;-</span> <span class="va">vif_combined</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">vif_combined</span><span class="op">$</span><span class="va">before</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">n_show</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">vif_combined</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">vif_combined</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_show</span>, <span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  beside     <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  las        <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  main       <span class="op">=</span> <span class="st">"VIF Before and After modelPrune()"</span>,</span>
<span>  ylab       <span class="op">=</span> <span class="st">"VIF"</span>,</span>
<span>  col        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.7</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  cex.names  <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>  names.arg  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">vif_combined</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_show</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fl">5</span>, col <span class="op">=</span> <span class="st">"black"</span>, lwd <span class="op">=</span> <span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>,</span>
<span>       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Before"</span>, <span class="st">"After"</span>, <span class="st">"Limit"</span><span class="op">)</span>,</span>
<span>       fill   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.7</span><span class="op">)</span>,</span>
<span>         <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span><span class="op">)</span>,</span>
<span>         <span class="cn">NA</span></span>
<span>       <span class="op">)</span>,</span>
<span>       border <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>       lty    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>       lwd    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>       bty    <span class="op">=</span> <span class="st">"o"</span>,    <span class="co"># opaque box</span></span>
<span>       bg     <span class="op">=</span> <span class="st">"white"</span> <span class="co"># hides dashed line behind legend</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="quickstart_files/figure-html/unnamed-chunk-7-1.png" class="r-plt" alt="Side-by-side barplot comparing VIF values before (red bars) and after (blue bars) modelPrune() for up to 15 variables. Black horizontal dashed line marks the VIF threshold of 5. Before pruning, several variables exceed the limit with high VIF values. After pruning, all retained variables have VIF below 5, and high-VIF variables are removed (shown as red-only bars), demonstrating successful multicollinearity reduction." width="768"></p>
<hr>
</div>
<div class="section level2">
<h2 id="subset-selection-corrselect">Subset Selection: corrSelect()<a class="anchor" aria-label="anchor" href="#subset-selection-corrselect"></a>
</h2>
<p>corrSelect() returns all maximal subsets, not just one:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/corrSelect.html">corrSelect</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>, threshold <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/methods/show.html" class="external-link">show</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; CorrCombo object</span></span>
<span><span class="co">#&gt; -----------------</span></span>
<span><span class="co">#&gt;   Method:      bron-kerbosch</span></span>
<span><span class="co">#&gt;   Correlation: pearson</span></span>
<span><span class="co">#&gt;   Threshold:   0.700</span></span>
<span><span class="co">#&gt;   Subsets:     42 valid combinations</span></span>
<span><span class="co">#&gt;   Data Rows:   100 used in correlation</span></span>
<span><span class="co">#&gt;   Pivot:       TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Top combinations:</span></span>
<span><span class="co">#&gt;   No.  Variables                          Avg    Max    Size</span></span>
<span><span class="co">#&gt;   ------------------------------------------------------------</span></span>
<span><span class="co">#&gt;   [ 1] BIO1, BIO3, BIO6, BIO9, BIO11...  0.192  0.689    12</span></span>
<span><span class="co">#&gt;   [ 2] BIO1, BIO3, BIO5, BIO9, BIO11...  0.195  0.689    12</span></span>
<span><span class="co">#&gt;   [ 3] BIO1, BIO3, BIO6, BIO8, BIO11...  0.195  0.689    12</span></span>
<span><span class="co">#&gt;   [ 4] BIO1, BIO4, BIO6, BIO9, BIO11...  0.196  0.689    12</span></span>
<span><span class="co">#&gt;   [ 5] BIO1, BIO3, BIO6, BIO9, BIO11...  0.196  0.688    12</span></span>
<span><span class="co">#&gt;   ... (37 more combinations)</span></span></code></pre></div>
<p>Inspect subsets:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>  <span class="co"># First 5 subsets</span></span>
<span><span class="co">#&gt;                      VarName01 VarName02 VarName03 VarName04 VarName05</span></span>
<span><span class="co">#&gt; Subset01 [avg=0.192]      BIO1      BIO3      BIO6      BIO9     BIO11</span></span>
<span><span class="co">#&gt; Subset02 [avg=0.195]      BIO1      BIO3      BIO5      BIO9     BIO11</span></span>
<span><span class="co">#&gt; Subset03 [avg=0.195]      BIO1      BIO3      BIO6      BIO8     BIO11</span></span>
<span><span class="co">#&gt; Subset04 [avg=0.196]      BIO1      BIO4      BIO6      BIO9     BIO11</span></span>
<span><span class="co">#&gt; Subset05 [avg=0.196]      BIO1      BIO3      BIO6      BIO9     BIO11</span></span>
<span><span class="co">#&gt;                      VarName06 VarName07 VarName08 VarName09 VarName10</span></span>
<span><span class="co">#&gt; Subset01 [avg=0.192]     BIO12     BIO13     BIO14     BIO16     BIO17</span></span>
<span><span class="co">#&gt; Subset02 [avg=0.195]     BIO12     BIO13     BIO14     BIO16     BIO17</span></span>
<span><span class="co">#&gt; Subset03 [avg=0.195]     BIO12     BIO13     BIO14     BIO16     BIO17</span></span>
<span><span class="co">#&gt; Subset04 [avg=0.196]     BIO12     BIO13     BIO14     BIO16     BIO17</span></span>
<span><span class="co">#&gt; Subset05 [avg=0.196]     BIO12     BIO13     BIO15     BIO16     BIO17</span></span>
<span><span class="co">#&gt;                      VarName11 VarName12</span></span>
<span><span class="co">#&gt; Subset01 [avg=0.192]     BIO18     BIO19</span></span>
<span><span class="co">#&gt; Subset02 [avg=0.195]     BIO18     BIO19</span></span>
<span><span class="co">#&gt; Subset03 [avg=0.195]     BIO18     BIO19</span></span>
<span><span class="co">#&gt; Subset04 [avg=0.196]     BIO18     BIO19</span></span>
<span><span class="co">#&gt; Subset05 [avg=0.196]     BIO18     BIO19</span></span></code></pre></div>
<p>Extract a specific subset:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">subset_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/corrSubset.html">corrSubset</a></span><span class="op">(</span><span class="va">results</span>, <span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>, which <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">subset_data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "BIO1"  "BIO3"  "BIO6"  "BIO9"  "BIO11" "BIO12"</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="mixed-type-data-assocselect">Mixed-Type Data: assocSelect()<a class="anchor" aria-label="anchor" href="#mixed-type-data-assocselect"></a>
</h2>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">survey_example</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Exclude ID and response</span></span>
<span><span class="va">survey_predictors</span> <span class="op">&lt;-</span> <span class="va">survey_example</span><span class="op">[</span>, <span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">survey_example</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span>
<span>                                         <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"respondent_id"</span>, <span class="st">"overall_satisfaction"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Handle mixed types</span></span>
<span><span class="va">results_mixed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assocSelect.html">assocSelect</a></span><span class="op">(</span><span class="va">survey_predictors</span>, threshold <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/methods/show.html" class="external-link">show</a></span><span class="op">(</span><span class="va">results_mixed</span><span class="op">)</span></span>
<span><span class="co">#&gt; CorrCombo object</span></span>
<span><span class="co">#&gt; -----------------</span></span>
<span><span class="co">#&gt;   Method:      bron-kerbosch</span></span>
<span><span class="co">#&gt;   Correlation: mixed</span></span>
<span><span class="co">#&gt;   AssocMethod: numeric_factor = eta, numeric_ordered = spearman, factor_ordered</span></span>
<span><span class="co">#&gt;                = cramersv, ordered_ordered = spearman</span></span>
<span><span class="co">#&gt;   Threshold:   0.600</span></span>
<span><span class="co">#&gt;   Subsets:     900 valid combinations</span></span>
<span><span class="co">#&gt;   Data Rows:   200 used in correlation</span></span>
<span><span class="co">#&gt;   Pivot:       TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Top combinations:</span></span>
<span><span class="co">#&gt;   No.  Variables                          Avg    Max    Size</span></span>
<span><span class="co">#&gt;   ------------------------------------------------------------</span></span>
<span><span class="co">#&gt;   [ 1] age, gender, education, satis...  0.175  0.555     6</span></span>
<span><span class="co">#&gt;   [ 2] age, gender, education, satis...  0.175  0.555     6</span></span>
<span><span class="co">#&gt;   [ 3] age, gender, education, satis...  0.176  0.555     6</span></span>
<span><span class="co">#&gt;   [ 4] age, gender, education, satis...  0.176  0.563     6</span></span>
<span><span class="co">#&gt;   [ 5] age, gender, education, satis...  0.176  0.591     6</span></span>
<span><span class="co">#&gt;   ... (895 more combinations)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="protecting-variables">Protecting Variables<a class="anchor" aria-label="anchor" href="#protecting-variables"></a>
</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check available variable names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "BIO1" "BIO2" "BIO3" "BIO4" "BIO5" "BIO6"</span></span>
<span></span>
<span><span class="co"># Force a variable to remain in all subsets</span></span>
<span><span class="va">first_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>  <span class="co"># First predictor</span></span>
<span><span class="va">pruned_force</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/corrPrune.html">corrPrune</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  force_in <span class="op">=</span> <span class="va">first_var</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Verify forced variable is present</span></span>
<span><span class="va">first_var</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">pruned_force</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="threshold-selection">Threshold Selection<a class="anchor" aria-label="anchor" href="#threshold-selection"></a>
</h2>
<p>Visualize correlation distribution:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cor_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">cor_vec</span> <span class="op">&lt;-</span> <span class="va">cor_mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/lower.tri.html" class="external-link">upper.tri</a></span><span class="op">(</span><span class="va">cor_mat</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Histogram with fixed x-limits so the 0.9 line is always in view</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">cor_vec</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fl">30</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Distribution of Absolute Correlations"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Absolute Correlation"</span>,</span>
<span>     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="fl">0.6</span><span class="op">)</span>,</span>
<span>     border <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Threshold lines (all visible because of xlim)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="fl">0.9</span><span class="op">)</span>,</span>
<span>       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#d73027"</span>, <span class="st">"#4575b4"</span>, <span class="st">"#91cf60"</span><span class="op">)</span>,</span>
<span>       lwd <span class="op">=</span> <span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Legend with opaque background so dashed lines don't pass through</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>,</span>
<span>       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0.5 (strict)"</span>, <span class="st">"0.7 (moderate)"</span>, <span class="st">"0.9 (lenient)"</span><span class="op">)</span>,</span>
<span>       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#d73027"</span>, <span class="st">"#4575b4"</span>, <span class="st">"#91cf60"</span><span class="op">)</span>,</span>
<span>       lwd <span class="op">=</span> <span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">2</span>,</span>
<span>       bty <span class="op">=</span> <span class="st">"o"</span>,           <span class="co"># draw a box</span></span>
<span>       bg  <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span>       <span class="co"># solid white background so lines stay hidden</span></span></code></pre></div>
<p><img src="quickstart_files/figure-html/unnamed-chunk-13-1.png" class="r-plt" alt="Histogram of absolute correlation distribution with three colored vertical dashed lines indicating threshold levels: strict at 0.5 (red), moderate at 0.7 (blue), and lenient at 0.9 (green). The distribution helps users visualize correlation structure and choose an appropriate threshold based on the data's correlation characteristics." width="672"></p>
<p>Test multiple thresholds:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">thresholds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.95</span>, by <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="va">sizes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">thresholds</span>, <span class="kw">function</span><span class="op">(</span><span class="va">t</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="fu"><a href="../reference/corrPrune.html">corrPrune</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>, threshold <span class="op">=</span> <span class="va">t</span><span class="op">)</span><span class="op">)</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">thresholds</span>, <span class="va">sizes</span>, type <span class="op">=</span> <span class="st">"b"</span>,</span>
<span>     xlab <span class="op">=</span> <span class="st">"Threshold"</span>,</span>
<span>     ylab <span class="op">=</span> <span class="st">"Variables Retained"</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Threshold Sensitivity"</span>,</span>
<span>     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">2</span>, pch <span class="op">=</span> <span class="fl">19</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">bioclim_example</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"gray50"</span><span class="op">)</span></span></code></pre></div>
<p><img src="quickstart_files/figure-html/unnamed-chunk-14-1.png" class="r-plt" alt="Line plot showing threshold sensitivity analysis. X-axis shows correlation thresholds from 0.3 to 0.95, y-axis shows number of variables retained. Blue line with dots shows how the number of retained variables increases as threshold becomes more lenient. Horizontal gray dashed line marks the original number of variables. The curve helps identify the plateau region where additional threshold relaxation yields diminishing returns." width="672"></p>
<hr>
</div>
<div class="section level2">
<h2 id="interface-selection">Interface Selection<a class="anchor" aria-label="anchor" href="#interface-selection"></a>
</h2>
<p>corrPrune() and modelPrune():</p>
<ul>
<li>Single pruned dataset</li>
<li>Fast execution</li>
<li>Preprocessing pipelines</li>
</ul>
<p>corrSelect() and assocSelect():</p>
<ul>
<li>All maximal subsets</li>
<li>Full metadata per subset</li>
<li>Documented enumeration for reproducible research</li>
</ul>
<p>MatSelect():</p>
<ul>
<li>Precomputed matrices</li>
<li>Repeated analyses with different thresholds</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<ul>
<li>
<code><a href="../articles/workflows.html">vignette("workflows")</a></code> - Complete workflows across
domains</li>
<li>
<code><a href="../articles/advanced.html">vignette("advanced")</a></code> - Algorithmic control and custom
engines</li>
<li>
<code><a href="../articles/comparison.html">vignette("comparison")</a></code> - Comparison with caret, Boruta,
glmnet</li>
<li>
<code><a href="../articles/theory.html">vignette("theory")</a></code> - Theoretical foundations and
formulation</li>
<li>
<code><a href="../reference/corrPrune.html">?corrPrune</a></code>, <code><a href="../reference/modelPrune.html">?modelPrune</a></code>,
<code><a href="../reference/corrSelect.html">?corrSelect</a></code>, <code><a href="../reference/assocSelect.html">?assocSelect</a></code>,
<code><a href="../reference/MatSelect.html">?MatSelect</a></code>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gcol33" class="external-link">Gilles Colling</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
